"""Add all domain models - DDD architecture complete

Revision ID: 04ede766081e
Revises: 019f010cd755
Create Date: 2026-01-19 18:05:02.674083
"""
from typing import Sequence, Union
from alembic import op
import sqlalchemy as sa


revision: str = '04ede766081e'
down_revision: Union[str, None] = '019f010cd755'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('categorias_competencia',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_categorias_competencia_activo'), 'categorias_competencia', ['activo'], unique=False)
    op.create_index(op.f('ix_categorias_competencia_codigo'), 'categorias_competencia', ['codigo'], unique=True)
    op.create_index(op.f('ix_categorias_competencia_eliminado'), 'categorias_competencia', ['eliminado'], unique=False)
    op.create_table('estados_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('orden', sa.Integer(), nullable=False),
    sa.Column('color', sa.String(length=20), nullable=True),
    sa.Column('es_final', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_estados_actividad_activo'), 'estados_actividad', ['activo'], unique=False)
    op.create_index(op.f('ix_estados_actividad_codigo'), 'estados_actividad', ['codigo'], unique=True)
    op.create_index(op.f('ix_estados_actividad_eliminado'), 'estados_actividad', ['eliminado'], unique=False)
    op.create_table('estados_convenio',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=20), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('orden', sa.Integer(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_estados_convenio_activo'), 'estados_convenio', ['activo'], unique=False)
    op.create_index(op.f('ix_estados_convenio_codigo'), 'estados_convenio', ['codigo'], unique=True)
    op.create_index(op.f('ix_estados_convenio_eliminado'), 'estados_convenio', ['eliminado'], unique=False)
    op.create_table('estados_propuesta',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('orden', sa.Integer(), nullable=False),
    sa.Column('color', sa.String(length=20), nullable=True),
    sa.Column('es_final', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_estados_propuesta_activo'), 'estados_propuesta', ['activo'], unique=False)
    op.create_index(op.f('ix_estados_propuesta_codigo'), 'estados_propuesta', ['codigo'], unique=True)
    op.create_index(op.f('ix_estados_propuesta_eliminado'), 'estados_propuesta', ['eliminado'], unique=False)
    op.create_table('niveles_competencia',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('orden', sa.Integer(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_niveles_competencia_activo'), 'niveles_competencia', ['activo'], unique=False)
    op.create_index(op.f('ix_niveles_competencia_codigo'), 'niveles_competencia', ['codigo'], unique=True)
    op.create_index(op.f('ix_niveles_competencia_eliminado'), 'niveles_competencia', ['eliminado'], unique=False)
    op.create_table('roles_grupo',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('es_coordinador', sa.Boolean(), nullable=False),
    sa.Column('puede_editar', sa.Boolean(), nullable=False),
    sa.Column('puede_aprobar_gastos', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_roles_grupo_activo'), 'roles_grupo', ['activo'], unique=False)
    op.create_index(op.f('ix_roles_grupo_codigo'), 'roles_grupo', ['codigo'], unique=True)
    op.create_index(op.f('ix_roles_grupo_eliminado'), 'roles_grupo', ['eliminado'], unique=False)
    op.create_table('roles_participante',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('es_voluntario', sa.Boolean(), nullable=False),
    sa.Column('es_coordinador', sa.Boolean(), nullable=False),
    sa.Column('es_donante', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_roles_participante_activo'), 'roles_participante', ['activo'], unique=False)
    op.create_index(op.f('ix_roles_participante_codigo'), 'roles_participante', ['codigo'], unique=True)
    op.create_index(op.f('ix_roles_participante_eliminado'), 'roles_participante', ['eliminado'], unique=False)
    op.create_table('tipos_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('requiere_grupo', sa.Boolean(), nullable=False),
    sa.Column('requiere_presupuesto', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_actividad_activo'), 'tipos_actividad', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_actividad_codigo'), 'tipos_actividad', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_actividad_eliminado'), 'tipos_actividad', ['eliminado'], unique=False)
    op.create_table('tipos_asociacion',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=20), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_asociacion_activo'), 'tipos_asociacion', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_asociacion_codigo'), 'tipos_asociacion', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_asociacion_eliminado'), 'tipos_asociacion', ['eliminado'], unique=False)
    op.create_table('tipos_campania',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_campania_activo'), 'tipos_campania', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_campania_codigo'), 'tipos_campania', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_campania_eliminado'), 'tipos_campania', ['eliminado'], unique=False)
    op.create_table('tipos_documento_voluntario',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('requiere_caducidad', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_documento_voluntario_activo'), 'tipos_documento_voluntario', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_documento_voluntario_codigo'), 'tipos_documento_voluntario', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_documento_voluntario_eliminado'), 'tipos_documento_voluntario', ['eliminado'], unique=False)
    op.create_table('tipos_formacion',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_formacion_activo'), 'tipos_formacion', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_formacion_codigo'), 'tipos_formacion', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_formacion_eliminado'), 'tipos_formacion', ['eliminado'], unique=False)
    op.create_table('tipos_grupo',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('es_permanente', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_grupo_activo'), 'tipos_grupo', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_grupo_codigo'), 'tipos_grupo', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_grupo_eliminado'), 'tipos_grupo', ['eliminado'], unique=False)
    op.create_table('tipos_kpi',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('formato', sa.String(length=50), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_kpi_activo'), 'tipos_kpi', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_kpi_codigo'), 'tipos_kpi', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_kpi_eliminado'), 'tipos_kpi', ['eliminado'], unique=False)
    op.create_table('tipos_miembro',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.String(length=500), nullable=True),
    sa.Column('requiere_cuota', sa.Boolean(), nullable=False),
    sa.Column('puede_votar', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_miembro_activo'), 'tipos_miembro', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_miembro_codigo'), 'tipos_miembro', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_miembro_eliminado'), 'tipos_miembro', ['eliminado'], unique=False)
    op.create_table('tipos_recurso',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('requiere_importe', sa.Boolean(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tipos_recurso_activo'), 'tipos_recurso', ['activo'], unique=False)
    op.create_index(op.f('ix_tipos_recurso_codigo'), 'tipos_recurso', ['codigo'], unique=True)
    op.create_index(op.f('ix_tipos_recurso_eliminado'), 'tipos_recurso', ['eliminado'], unique=False)
    op.create_table('competencias',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('categoria_id', sa.Uuid(), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['categoria_id'], ['categorias_competencia.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_competencias_activo'), 'competencias', ['activo'], unique=False)
    op.create_index(op.f('ix_competencias_categoria_id'), 'competencias', ['categoria_id'], unique=False)
    op.create_index(op.f('ix_competencias_codigo'), 'competencias', ['codigo'], unique=True)
    op.create_index(op.f('ix_competencias_eliminado'), 'competencias', ['eliminado'], unique=False)
    op.create_table('documentos_miembro',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('miembro_id', sa.Uuid(), nullable=False),
    sa.Column('tipo_documento_id', sa.Uuid(), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('archivo_url', sa.String(length=500), nullable=False),
    sa.Column('archivo_nombre', sa.String(length=255), nullable=False),
    sa.Column('archivo_tipo', sa.String(length=100), nullable=True),
    sa.Column('archivo_tamano', sa.Integer(), nullable=True),
    sa.Column('fecha_subida', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_caducidad', sa.Date(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['tipo_documento_id'], ['tipos_documento_voluntario.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_documentos_miembro_activo'), 'documentos_miembro', ['activo'], unique=False)
    op.create_index(op.f('ix_documentos_miembro_eliminado'), 'documentos_miembro', ['eliminado'], unique=False)
    op.create_index(op.f('ix_documentos_miembro_miembro_id'), 'documentos_miembro', ['miembro_id'], unique=False)
    op.create_index(op.f('ix_documentos_miembro_tipo_documento_id'), 'documentos_miembro', ['tipo_documento_id'], unique=False)
    op.create_table('formaciones_miembro',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('miembro_id', sa.Uuid(), nullable=False),
    sa.Column('tipo_formacion_id', sa.Uuid(), nullable=False),
    sa.Column('titulo', sa.String(length=200), nullable=False),
    sa.Column('institucion', sa.String(length=200), nullable=True),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('fecha_inicio', sa.Date(), nullable=True),
    sa.Column('fecha_fin', sa.Date(), nullable=True),
    sa.Column('horas', sa.Integer(), nullable=True),
    sa.Column('certificado', sa.Boolean(), nullable=False),
    sa.Column('competencias_adquiridas', sa.Text(), nullable=True),
    sa.Column('es_interna', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['tipo_formacion_id'], ['tipos_formacion.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_formaciones_miembro_eliminado'), 'formaciones_miembro', ['eliminado'], unique=False)
    op.create_index(op.f('ix_formaciones_miembro_miembro_id'), 'formaciones_miembro', ['miembro_id'], unique=False)
    op.create_index(op.f('ix_formaciones_miembro_tipo_formacion_id'), 'formaciones_miembro', ['tipo_formacion_id'], unique=False)
    op.create_table('kpis',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('tipo_kpi_id', sa.Uuid(), nullable=False),
    sa.Column('unidad', sa.String(length=50), nullable=True),
    sa.Column('valor_objetivo_defecto', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('valor_minimo', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('formula', sa.Text(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['tipo_kpi_id'], ['tipos_kpi.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_kpis_activo'), 'kpis', ['activo'], unique=False)
    op.create_index(op.f('ix_kpis_codigo'), 'kpis', ['codigo'], unique=True)
    op.create_index(op.f('ix_kpis_eliminado'), 'kpis', ['eliminado'], unique=False)
    op.create_index(op.f('ix_kpis_tipo_kpi_id'), 'kpis', ['tipo_kpi_id'], unique=False)
    op.create_table('propuestas_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('titulo', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('justificacion', sa.Text(), nullable=True),
    sa.Column('proponente_id', sa.Uuid(), nullable=False),
    sa.Column('estado_id', sa.Uuid(), nullable=False),
    sa.Column('fecha_presentacion', sa.Date(), server_default=sa.text('now()'), nullable=True),
    sa.Column('fecha_resolucion', sa.Date(), nullable=True),
    sa.Column('motivo_resolucion', sa.Text(), nullable=True),
    sa.Column('campania_id', sa.Uuid(), nullable=True),
    sa.Column('fecha_inicio_propuesta', sa.Date(), nullable=True),
    sa.Column('fecha_fin_propuesta', sa.Date(), nullable=True),
    sa.Column('presupuesto_solicitado', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('presupuesto_aprobado', sa.Numeric(precision=12, scale=2), nullable=True),
    sa.Column('partida_id', sa.Uuid(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['estado_id'], ['estados_propuesta.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_propuestas_actividad_campania_id'), 'propuestas_actividad', ['campania_id'], unique=False)
    op.create_index(op.f('ix_propuestas_actividad_codigo'), 'propuestas_actividad', ['codigo'], unique=True)
    op.create_index(op.f('ix_propuestas_actividad_eliminado'), 'propuestas_actividad', ['eliminado'], unique=False)
    op.create_index(op.f('ix_propuestas_actividad_estado_id'), 'propuestas_actividad', ['estado_id'], unique=False)
    op.create_index(op.f('ix_propuestas_actividad_partida_id'), 'propuestas_actividad', ['partida_id'], unique=False)
    op.create_index(op.f('ix_propuestas_actividad_proponente_id'), 'propuestas_actividad', ['proponente_id'], unique=False)
    op.create_table('actividades',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('propuesta_id', sa.Uuid(), nullable=True),
    sa.Column('tipo_actividad_id', sa.Uuid(), nullable=False),
    sa.Column('estado_id', sa.Uuid(), nullable=False),
    sa.Column('prioridad', sa.Integer(), nullable=False),
    sa.Column('fecha_inicio', sa.Date(), nullable=False),
    sa.Column('fecha_fin', sa.Date(), nullable=False),
    sa.Column('hora_inicio', sa.Time(), nullable=True),
    sa.Column('hora_fin', sa.Time(), nullable=True),
    sa.Column('es_todo_el_dia', sa.Boolean(), nullable=False),
    sa.Column('lugar', sa.String(length=200), nullable=True),
    sa.Column('direccion', sa.String(length=500), nullable=True),
    sa.Column('es_online', sa.Boolean(), nullable=False),
    sa.Column('url_online', sa.String(length=500), nullable=True),
    sa.Column('campania_id', sa.Uuid(), nullable=True),
    sa.Column('coordinador_id', sa.Uuid(), nullable=False),
    sa.Column('grupo_trabajo_id', sa.Uuid(), nullable=True),
    sa.Column('es_colectiva', sa.Boolean(), nullable=False),
    sa.Column('partida_id', sa.Uuid(), nullable=True),
    sa.Column('dotacion_economica', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('gasto_real', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('voluntarios_necesarios', sa.Integer(), nullable=False),
    sa.Column('voluntarios_confirmados', sa.Integer(), nullable=False),
    sa.Column('completada', sa.Boolean(), nullable=False),
    sa.Column('fecha_completada', sa.DateTime(), nullable=True),
    sa.Column('resultados', sa.Text(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['estado_id'], ['estados_actividad.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['propuesta_id'], ['propuestas_actividad.id'], ),
    sa.ForeignKeyConstraint(['tipo_actividad_id'], ['tipos_actividad.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_actividades_campania_id'), 'actividades', ['campania_id'], unique=False)
    op.create_index(op.f('ix_actividades_codigo'), 'actividades', ['codigo'], unique=True)
    op.create_index(op.f('ix_actividades_completada'), 'actividades', ['completada'], unique=False)
    op.create_index(op.f('ix_actividades_coordinador_id'), 'actividades', ['coordinador_id'], unique=False)
    op.create_index(op.f('ix_actividades_eliminado'), 'actividades', ['eliminado'], unique=False)
    op.create_index(op.f('ix_actividades_estado_id'), 'actividades', ['estado_id'], unique=False)
    op.create_index(op.f('ix_actividades_fecha_fin'), 'actividades', ['fecha_fin'], unique=False)
    op.create_index(op.f('ix_actividades_fecha_inicio'), 'actividades', ['fecha_inicio'], unique=False)
    op.create_index(op.f('ix_actividades_grupo_trabajo_id'), 'actividades', ['grupo_trabajo_id'], unique=False)
    op.create_index(op.f('ix_actividades_nombre'), 'actividades', ['nombre'], unique=False)
    op.create_index(op.f('ix_actividades_partida_id'), 'actividades', ['partida_id'], unique=False)
    op.create_index(op.f('ix_actividades_propuesta_id'), 'actividades', ['propuesta_id'], unique=False)
    op.create_index(op.f('ix_actividades_tipo_actividad_id'), 'actividades', ['tipo_actividad_id'], unique=False)
    op.create_table('grupos_propuesta',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('propuesta_id', sa.Uuid(), nullable=False),
    sa.Column('grupo_trabajo_id', sa.Uuid(), nullable=False),
    sa.Column('tareas_asignadas', sa.Text(), nullable=True),
    sa.Column('horas_estimadas', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['propuesta_id'], ['propuestas_actividad.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_grupos_propuesta_eliminado'), 'grupos_propuesta', ['eliminado'], unique=False)
    op.create_index(op.f('ix_grupos_propuesta_grupo_trabajo_id'), 'grupos_propuesta', ['grupo_trabajo_id'], unique=False)
    op.create_index(op.f('ix_grupos_propuesta_propuesta_id'), 'grupos_propuesta', ['propuesta_id'], unique=False)
    op.create_table('miembros_competencia',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('miembro_id', sa.Uuid(), nullable=False),
    sa.Column('competencia_id', sa.Uuid(), nullable=False),
    sa.Column('nivel_id', sa.Uuid(), nullable=False),
    sa.Column('verificado', sa.Boolean(), nullable=False),
    sa.Column('fecha_verificacion', sa.Date(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['competencia_id'], ['competencias.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['nivel_id'], ['niveles_competencia.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_miembros_competencia_competencia_id'), 'miembros_competencia', ['competencia_id'], unique=False)
    op.create_index(op.f('ix_miembros_competencia_eliminado'), 'miembros_competencia', ['eliminado'], unique=False)
    op.create_index(op.f('ix_miembros_competencia_miembro_id'), 'miembros_competencia', ['miembro_id'], unique=False)
    op.create_index(op.f('ix_miembros_competencia_nivel_id'), 'miembros_competencia', ['nivel_id'], unique=False)
    op.create_table('recursos_propuesta',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('propuesta_id', sa.Uuid(), nullable=False),
    sa.Column('tipo_recurso_id', sa.Uuid(), nullable=False),
    sa.Column('descripcion', sa.String(length=500), nullable=False),
    sa.Column('cantidad', sa.Integer(), nullable=False),
    sa.Column('importe_unitario_estimado', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('importe_total_estimado', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('importe_aprobado', sa.Numeric(precision=12, scale=2), nullable=True),
    sa.Column('proveedor', sa.String(length=200), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['propuesta_id'], ['propuestas_actividad.id'], ),
    sa.ForeignKeyConstraint(['tipo_recurso_id'], ['tipos_recurso.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_recursos_propuesta_eliminado'), 'recursos_propuesta', ['eliminado'], unique=False)
    op.create_index(op.f('ix_recursos_propuesta_propuesta_id'), 'recursos_propuesta', ['propuesta_id'], unique=False)
    op.create_index(op.f('ix_recursos_propuesta_tipo_recurso_id'), 'recursos_propuesta', ['tipo_recurso_id'], unique=False)
    op.create_table('tareas_propuesta',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('propuesta_id', sa.Uuid(), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('orden', sa.Integer(), nullable=False),
    sa.Column('grupo_trabajo_id', sa.Uuid(), nullable=True),
    sa.Column('responsable_id', sa.Uuid(), nullable=True),
    sa.Column('fecha_inicio_estimada', sa.Date(), nullable=True),
    sa.Column('fecha_fin_estimada', sa.Date(), nullable=True),
    sa.Column('horas_estimadas', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['propuesta_id'], ['propuestas_actividad.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tareas_propuesta_eliminado'), 'tareas_propuesta', ['eliminado'], unique=False)
    op.create_index(op.f('ix_tareas_propuesta_grupo_trabajo_id'), 'tareas_propuesta', ['grupo_trabajo_id'], unique=False)
    op.create_index(op.f('ix_tareas_propuesta_propuesta_id'), 'tareas_propuesta', ['propuesta_id'], unique=False)
    op.create_index(op.f('ix_tareas_propuesta_responsable_id'), 'tareas_propuesta', ['responsable_id'], unique=False)
    op.create_table('grupos_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('actividad_id', sa.Uuid(), nullable=False),
    sa.Column('grupo_trabajo_id', sa.Uuid(), nullable=False),
    sa.Column('tareas_asignadas', sa.Text(), nullable=True),
    sa.Column('horas_estimadas', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('horas_reales', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['actividad_id'], ['actividades.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_grupos_actividad_actividad_id'), 'grupos_actividad', ['actividad_id'], unique=False)
    op.create_index(op.f('ix_grupos_actividad_eliminado'), 'grupos_actividad', ['eliminado'], unique=False)
    op.create_index(op.f('ix_grupos_actividad_grupo_trabajo_id'), 'grupos_actividad', ['grupo_trabajo_id'], unique=False)
    op.create_table('kpis_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('actividad_id', sa.Uuid(), nullable=False),
    sa.Column('kpi_id', sa.Uuid(), nullable=False),
    sa.Column('valor_objetivo', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('peso', sa.Numeric(precision=5, scale=2), nullable=False),
    sa.Column('valor_actual', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('fecha_ultima_medicion', sa.DateTime(), nullable=True),
    sa.Column('porcentaje_logro', sa.Numeric(precision=5, scale=2), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['actividad_id'], ['actividades.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['kpi_id'], ['kpis.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_kpis_actividad_actividad_id'), 'kpis_actividad', ['actividad_id'], unique=False)
    op.create_index(op.f('ix_kpis_actividad_eliminado'), 'kpis_actividad', ['eliminado'], unique=False)
    op.create_index(op.f('ix_kpis_actividad_kpi_id'), 'kpis_actividad', ['kpi_id'], unique=False)
    op.create_table('participantes_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('actividad_id', sa.Uuid(), nullable=False),
    sa.Column('miembro_id', sa.Uuid(), nullable=False),
    sa.Column('rol', sa.String(length=50), nullable=False),
    sa.Column('confirmado', sa.Boolean(), nullable=False),
    sa.Column('asistio', sa.Boolean(), nullable=True),
    sa.Column('horas_aportadas', sa.Numeric(precision=6, scale=2), nullable=False),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['actividad_id'], ['actividades.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_participantes_actividad_actividad_id'), 'participantes_actividad', ['actividad_id'], unique=False)
    op.create_index(op.f('ix_participantes_actividad_eliminado'), 'participantes_actividad', ['eliminado'], unique=False)
    op.create_index(op.f('ix_participantes_actividad_miembro_id'), 'participantes_actividad', ['miembro_id'], unique=False)
    op.create_table('recursos_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('actividad_id', sa.Uuid(), nullable=False),
    sa.Column('tipo_recurso_id', sa.Uuid(), nullable=False),
    sa.Column('descripcion', sa.String(length=500), nullable=False),
    sa.Column('cantidad', sa.Integer(), nullable=False),
    sa.Column('importe_presupuestado', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('importe_real', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('proveedor', sa.String(length=200), nullable=True),
    sa.Column('factura_referencia', sa.String(length=100), nullable=True),
    sa.Column('fecha_factura', sa.Date(), nullable=True),
    sa.Column('pagado', sa.Boolean(), nullable=False),
    sa.Column('fecha_pago', sa.Date(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['actividad_id'], ['actividades.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['tipo_recurso_id'], ['tipos_recurso.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_recursos_actividad_actividad_id'), 'recursos_actividad', ['actividad_id'], unique=False)
    op.create_index(op.f('ix_recursos_actividad_eliminado'), 'recursos_actividad', ['eliminado'], unique=False)
    op.create_index(op.f('ix_recursos_actividad_tipo_recurso_id'), 'recursos_actividad', ['tipo_recurso_id'], unique=False)
    op.create_table('tareas_actividad',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('actividad_id', sa.Uuid(), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('orden', sa.Integer(), nullable=False),
    sa.Column('grupo_trabajo_id', sa.Uuid(), nullable=True),
    sa.Column('responsable_id', sa.Uuid(), nullable=True),
    sa.Column('estado_id', sa.Uuid(), nullable=False),
    sa.Column('fecha_limite', sa.Date(), nullable=True),
    sa.Column('fecha_completada', sa.DateTime(), nullable=True),
    sa.Column('horas_estimadas', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('horas_reales', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['actividad_id'], ['actividades.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['estado_id'], ['estados_tarea.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tareas_actividad_actividad_id'), 'tareas_actividad', ['actividad_id'], unique=False)
    op.create_index(op.f('ix_tareas_actividad_eliminado'), 'tareas_actividad', ['eliminado'], unique=False)
    op.create_index(op.f('ix_tareas_actividad_estado_id'), 'tareas_actividad', ['estado_id'], unique=False)
    op.create_index(op.f('ix_tareas_actividad_grupo_trabajo_id'), 'tareas_actividad', ['grupo_trabajo_id'], unique=False)
    op.create_index(op.f('ix_tareas_actividad_responsable_id'), 'tareas_actividad', ['responsable_id'], unique=False)
    op.create_table('agrupaciones_territoriales',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=20), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('nombre_corto', sa.String(length=100), nullable=True),
    sa.Column('tipo', sa.String(length=50), nullable=False),
    sa.Column('agrupacion_padre_id', sa.Uuid(), nullable=True),
    sa.Column('nivel', sa.Integer(), nullable=False),
    sa.Column('pais_id', sa.Uuid(), nullable=False),
    sa.Column('provincia_id', sa.Uuid(), nullable=True),
    sa.Column('municipio_id', sa.Uuid(), nullable=True),
    sa.Column('direccion_id', sa.Uuid(), nullable=True),
    sa.Column('email', sa.String(length=255), nullable=True),
    sa.Column('telefono', sa.String(length=20), nullable=True),
    sa.Column('web', sa.String(length=255), nullable=True),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('activo', sa.Integer(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['agrupacion_padre_id'], ['agrupaciones_territoriales.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['direccion_id'], ['direcciones.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['municipio_id'], ['municipios.id'], ),
    sa.ForeignKeyConstraint(['pais_id'], ['paises.id'], ),
    sa.ForeignKeyConstraint(['provincia_id'], ['provincias.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_agrupaciones_territoriales_activo'), 'agrupaciones_territoriales', ['activo'], unique=False)
    op.create_index(op.f('ix_agrupaciones_territoriales_agrupacion_padre_id'), 'agrupaciones_territoriales', ['agrupacion_padre_id'], unique=False)
    op.create_index(op.f('ix_agrupaciones_territoriales_codigo'), 'agrupaciones_territoriales', ['codigo'], unique=True)
    op.create_index(op.f('ix_agrupaciones_territoriales_eliminado'), 'agrupaciones_territoriales', ['eliminado'], unique=False)
    op.create_index(op.f('ix_agrupaciones_territoriales_municipio_id'), 'agrupaciones_territoriales', ['municipio_id'], unique=False)
    op.create_index(op.f('ix_agrupaciones_territoriales_nombre'), 'agrupaciones_territoriales', ['nombre'], unique=False)
    op.create_index(op.f('ix_agrupaciones_territoriales_pais_id'), 'agrupaciones_territoriales', ['pais_id'], unique=False)
    op.create_index(op.f('ix_agrupaciones_territoriales_provincia_id'), 'agrupaciones_territoriales', ['provincia_id'], unique=False)
    op.create_index(op.f('ix_agrupaciones_territoriales_tipo'), 'agrupaciones_territoriales', ['tipo'], unique=False)
    op.create_table('asociaciones',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('nombre_corto', sa.String(length=100), nullable=True),
    sa.Column('siglas', sa.String(length=20), nullable=True),
    sa.Column('tipo_id', sa.Uuid(), nullable=False),
    sa.Column('cif_nif', sa.String(length=20), nullable=True),
    sa.Column('registro_oficial', sa.String(length=100), nullable=True),
    sa.Column('numero_registro', sa.String(length=50), nullable=True),
    sa.Column('fecha_constitucion', sa.Date(), nullable=True),
    sa.Column('direccion_id', sa.Uuid(), nullable=True),
    sa.Column('provincia_id', sa.Uuid(), nullable=True),
    sa.Column('ambito', sa.String(length=50), nullable=False),
    sa.Column('email', sa.String(length=255), nullable=True),
    sa.Column('telefono', sa.String(length=20), nullable=True),
    sa.Column('web', sa.String(length=255), nullable=True),
    sa.Column('persona_contacto_nombre', sa.String(length=200), nullable=True),
    sa.Column('persona_contacto_cargo', sa.String(length=100), nullable=True),
    sa.Column('persona_contacto_email', sa.String(length=255), nullable=True),
    sa.Column('persona_contacto_telefono', sa.String(length=20), nullable=True),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('actividades_principales', sa.Text(), nullable=True),
    sa.Column('numero_socios', sa.Integer(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_alta', sa.Date(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_baja', sa.Date(), nullable=True),
    sa.Column('motivo_baja', sa.Text(), nullable=True),
    sa.Column('valoracion', sa.Integer(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['direccion_id'], ['direcciones.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['provincia_id'], ['provincias.id'], ),
    sa.ForeignKeyConstraint(['tipo_id'], ['tipos_asociacion.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_asociaciones_activo'), 'asociaciones', ['activo'], unique=False)
    op.create_index(op.f('ix_asociaciones_cif_nif'), 'asociaciones', ['cif_nif'], unique=True)
    op.create_index(op.f('ix_asociaciones_eliminado'), 'asociaciones', ['eliminado'], unique=False)
    op.create_index(op.f('ix_asociaciones_nombre'), 'asociaciones', ['nombre'], unique=False)
    op.create_index(op.f('ix_asociaciones_provincia_id'), 'asociaciones', ['provincia_id'], unique=False)
    op.create_index(op.f('ix_asociaciones_siglas'), 'asociaciones', ['siglas'], unique=False)
    op.create_index(op.f('ix_asociaciones_tipo_id'), 'asociaciones', ['tipo_id'], unique=False)
    op.create_table('mediciones_kpi',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('kpi_actividad_id', sa.Uuid(), nullable=False),
    sa.Column('valor_medido', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('fecha_medicion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('medido_por_id', sa.Uuid(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['kpi_actividad_id'], ['kpis_actividad.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_mediciones_kpi_eliminado'), 'mediciones_kpi', ['eliminado'], unique=False)
    op.create_index(op.f('ix_mediciones_kpi_kpi_actividad_id'), 'mediciones_kpi', ['kpi_actividad_id'], unique=False)
    op.create_index(op.f('ix_mediciones_kpi_medido_por_id'), 'mediciones_kpi', ['medido_por_id'], unique=False)
    op.create_table('campanias',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion_corta', sa.String(length=500), nullable=True),
    sa.Column('descripcion_larga', sa.Text(), nullable=True),
    sa.Column('tipo_campania_id', sa.Uuid(), nullable=False),
    sa.Column('estado_id', sa.Uuid(), nullable=False),
    sa.Column('fecha_inicio_plan', sa.Date(), nullable=True),
    sa.Column('fecha_fin_plan', sa.Date(), nullable=True),
    sa.Column('fecha_inicio_real', sa.Date(), nullable=True),
    sa.Column('fecha_fin_real', sa.Date(), nullable=True),
    sa.Column('objetivo_principal', sa.Text(), nullable=True),
    sa.Column('meta_recaudacion', sa.Numeric(precision=12, scale=2), nullable=True),
    sa.Column('meta_participantes', sa.Integer(), nullable=True),
    sa.Column('responsable_id', sa.Uuid(), nullable=True),
    sa.Column('agrupacion_id', sa.Uuid(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['agrupacion_id'], ['agrupaciones_territoriales.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['estado_id'], ['estados_campania.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['tipo_campania_id'], ['tipos_campania.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_campanias_agrupacion_id'), 'campanias', ['agrupacion_id'], unique=False)
    op.create_index(op.f('ix_campanias_codigo'), 'campanias', ['codigo'], unique=True)
    op.create_index(op.f('ix_campanias_eliminado'), 'campanias', ['eliminado'], unique=False)
    op.create_index(op.f('ix_campanias_estado_id'), 'campanias', ['estado_id'], unique=False)
    op.create_index(op.f('ix_campanias_nombre'), 'campanias', ['nombre'], unique=False)
    op.create_index(op.f('ix_campanias_responsable_id'), 'campanias', ['responsable_id'], unique=False)
    op.create_index(op.f('ix_campanias_tipo_campania_id'), 'campanias', ['tipo_campania_id'], unique=False)
    op.create_table('convenios',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('asociacion_id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('tipo', sa.String(length=50), nullable=False),
    sa.Column('fecha_firma', sa.Date(), nullable=False),
    sa.Column('fecha_inicio', sa.Date(), nullable=False),
    sa.Column('fecha_fin', sa.Date(), nullable=True),
    sa.Column('renovable', sa.Boolean(), nullable=False),
    sa.Column('objeto', sa.Text(), nullable=False),
    sa.Column('compromisos_asociacion', sa.Text(), nullable=True),
    sa.Column('compromisos_propios', sa.Text(), nullable=True),
    sa.Column('beneficios', sa.Text(), nullable=True),
    sa.Column('tiene_aportacion_economica', sa.Boolean(), nullable=False),
    sa.Column('importe_aportacion', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('periodicidad_aportacion', sa.String(length=50), nullable=True),
    sa.Column('documento_url', sa.String(length=500), nullable=True),
    sa.Column('anexos_urls', sa.Text(), nullable=True),
    sa.Column('responsable_organizacion', sa.String(length=200), nullable=True),
    sa.Column('responsable_asociacion', sa.String(length=200), nullable=True),
    sa.Column('estado_id', sa.Uuid(), nullable=False),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['asociacion_id'], ['asociaciones.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['estado_id'], ['estados_convenio.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_convenios_activo'), 'convenios', ['activo'], unique=False)
    op.create_index(op.f('ix_convenios_asociacion_id'), 'convenios', ['asociacion_id'], unique=False)
    op.create_index(op.f('ix_convenios_codigo'), 'convenios', ['codigo'], unique=True)
    op.create_index(op.f('ix_convenios_eliminado'), 'convenios', ['eliminado'], unique=False)
    op.create_index(op.f('ix_convenios_estado_id'), 'convenios', ['estado_id'], unique=False)
    op.create_index(op.f('ix_convenios_fecha_fin'), 'convenios', ['fecha_fin'], unique=False)
    op.create_index(op.f('ix_convenios_fecha_firma'), 'convenios', ['fecha_firma'], unique=False)
    op.create_table('grupos_trabajo',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('codigo', sa.String(length=50), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('tipo_grupo_id', sa.Uuid(), nullable=False),
    sa.Column('campania_id', sa.Uuid(), nullable=True),
    sa.Column('fecha_inicio', sa.Date(), nullable=True),
    sa.Column('fecha_fin', sa.Date(), nullable=True),
    sa.Column('objetivo', sa.Text(), nullable=True),
    sa.Column('presupuesto_asignado', sa.Numeric(precision=12, scale=2), nullable=True),
    sa.Column('presupuesto_ejecutado', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('agrupacion_id', sa.Uuid(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['agrupacion_id'], ['agrupaciones_territoriales.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['tipo_grupo_id'], ['tipos_grupo.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_grupos_trabajo_activo'), 'grupos_trabajo', ['activo'], unique=False)
    op.create_index(op.f('ix_grupos_trabajo_agrupacion_id'), 'grupos_trabajo', ['agrupacion_id'], unique=False)
    op.create_index(op.f('ix_grupos_trabajo_campania_id'), 'grupos_trabajo', ['campania_id'], unique=False)
    op.create_index(op.f('ix_grupos_trabajo_codigo'), 'grupos_trabajo', ['codigo'], unique=True)
    op.create_index(op.f('ix_grupos_trabajo_eliminado'), 'grupos_trabajo', ['eliminado'], unique=False)
    op.create_index(op.f('ix_grupos_trabajo_nombre'), 'grupos_trabajo', ['nombre'], unique=False)
    op.create_index(op.f('ix_grupos_trabajo_tipo_grupo_id'), 'grupos_trabajo', ['tipo_grupo_id'], unique=False)
    op.create_table('miembros',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('nombre', sa.String(length=100), nullable=False),
    sa.Column('apellido1', sa.String(length=100), nullable=False),
    sa.Column('apellido2', sa.String(length=100), nullable=True),
    sa.Column('fecha_nacimiento', sa.Date(), nullable=True),
    sa.Column('tipo_miembro_id', sa.Uuid(), nullable=False),
    sa.Column('tipo_documento', sa.String(length=20), nullable=True),
    sa.Column('numero_documento', sa.String(length=50), nullable=True),
    sa.Column('pais_documento_id', sa.Uuid(), nullable=True),
    sa.Column('direccion', sa.String(length=500), nullable=True),
    sa.Column('codigo_postal', sa.String(length=20), nullable=True),
    sa.Column('localidad', sa.String(length=200), nullable=True),
    sa.Column('provincia_id', sa.Uuid(), nullable=True),
    sa.Column('pais_domicilio_id', sa.Uuid(), nullable=True),
    sa.Column('telefono', sa.String(length=20), nullable=True),
    sa.Column('telefono2', sa.String(length=20), nullable=True),
    sa.Column('email', sa.String(length=200), nullable=True),
    sa.Column('agrupacion_id', sa.Uuid(), nullable=True),
    sa.Column('iban', sa.String(length=500), nullable=True),
    sa.Column('fecha_alta', sa.Date(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_baja', sa.Date(), nullable=True),
    sa.Column('motivo_baja', sa.String(length=500), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('es_voluntario', sa.Boolean(), nullable=False),
    sa.Column('disponibilidad', sa.String(length=50), nullable=True),
    sa.Column('horas_disponibles_semana', sa.Integer(), nullable=True),
    sa.Column('experiencia_voluntariado', sa.String(length=1000), nullable=True),
    sa.Column('intereses', sa.String(length=1000), nullable=True),
    sa.Column('observaciones_voluntariado', sa.String(length=1000), nullable=True),
    sa.Column('puede_conducir', sa.Boolean(), nullable=False),
    sa.Column('vehiculo_propio', sa.Boolean(), nullable=False),
    sa.Column('disponibilidad_viajar', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['agrupacion_id'], ['agrupaciones_territoriales.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['pais_documento_id'], ['paises.id'], ),
    sa.ForeignKeyConstraint(['pais_domicilio_id'], ['paises.id'], ),
    sa.ForeignKeyConstraint(['provincia_id'], ['provincias.id'], ),
    sa.ForeignKeyConstraint(['tipo_miembro_id'], ['tipos_miembro.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_miembros_activo'), 'miembros', ['activo'], unique=False)
    op.create_index(op.f('ix_miembros_agrupacion_id'), 'miembros', ['agrupacion_id'], unique=False)
    op.create_index(op.f('ix_miembros_apellido1'), 'miembros', ['apellido1'], unique=False)
    op.create_index(op.f('ix_miembros_eliminado'), 'miembros', ['eliminado'], unique=False)
    op.create_index(op.f('ix_miembros_email'), 'miembros', ['email'], unique=False)
    op.create_index(op.f('ix_miembros_es_voluntario'), 'miembros', ['es_voluntario'], unique=False)
    op.create_index(op.f('ix_miembros_fecha_alta'), 'miembros', ['fecha_alta'], unique=False)
    op.create_index(op.f('ix_miembros_fecha_baja'), 'miembros', ['fecha_baja'], unique=False)
    op.create_index(op.f('ix_miembros_nombre'), 'miembros', ['nombre'], unique=False)
    op.create_index(op.f('ix_miembros_numero_documento'), 'miembros', ['numero_documento'], unique=True)
    op.create_index(op.f('ix_miembros_pais_domicilio_id'), 'miembros', ['pais_domicilio_id'], unique=False)
    op.create_index(op.f('ix_miembros_provincia_id'), 'miembros', ['provincia_id'], unique=False)
    op.create_index(op.f('ix_miembros_tipo_miembro_id'), 'miembros', ['tipo_miembro_id'], unique=False)
    op.create_table('acciones_campania',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('campania_id', sa.Uuid(), nullable=False),
    sa.Column('nombre', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('fecha', sa.Date(), nullable=False),
    sa.Column('hora_inicio', sa.String(length=10), nullable=True),
    sa.Column('hora_fin', sa.String(length=10), nullable=True),
    sa.Column('lugar', sa.String(length=200), nullable=True),
    sa.Column('direccion', sa.String(length=500), nullable=True),
    sa.Column('voluntarios_necesarios', sa.Integer(), nullable=False),
    sa.Column('voluntarios_confirmados', sa.Integer(), nullable=False),
    sa.Column('materiales_necesarios', sa.Text(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('completada', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['campania_id'], ['campanias.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_acciones_campania_campania_id'), 'acciones_campania', ['campania_id'], unique=False)
    op.create_index(op.f('ix_acciones_campania_completada'), 'acciones_campania', ['completada'], unique=False)
    op.create_index(op.f('ix_acciones_campania_eliminado'), 'acciones_campania', ['eliminado'], unique=False)
    op.create_index(op.f('ix_acciones_campania_fecha'), 'acciones_campania', ['fecha'], unique=False)
    op.create_table('miembros_grupo',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('grupo_id', sa.Uuid(), nullable=False),
    sa.Column('miembro_id', sa.Uuid(), nullable=False),
    sa.Column('rol_grupo_id', sa.Uuid(), nullable=False),
    sa.Column('fecha_incorporacion', sa.Date(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_baja', sa.Date(), nullable=True),
    sa.Column('activo', sa.Boolean(), nullable=False),
    sa.Column('responsabilidades', sa.Text(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['grupo_id'], ['grupos_trabajo.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['rol_grupo_id'], ['roles_grupo.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_miembros_grupo_activo'), 'miembros_grupo', ['activo'], unique=False)
    op.create_index(op.f('ix_miembros_grupo_eliminado'), 'miembros_grupo', ['eliminado'], unique=False)
    op.create_index(op.f('ix_miembros_grupo_grupo_id'), 'miembros_grupo', ['grupo_id'], unique=False)
    op.create_index(op.f('ix_miembros_grupo_miembro_id'), 'miembros_grupo', ['miembro_id'], unique=False)
    op.create_index(op.f('ix_miembros_grupo_rol_grupo_id'), 'miembros_grupo', ['rol_grupo_id'], unique=False)
    op.create_table('participantes_campania',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('campania_id', sa.Uuid(), nullable=False),
    sa.Column('miembro_id', sa.Uuid(), nullable=False),
    sa.Column('rol_participante_id', sa.Uuid(), nullable=False),
    sa.Column('horas_aportadas', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('confirmado', sa.Boolean(), nullable=False),
    sa.Column('asistio', sa.Boolean(), nullable=True),
    sa.Column('fecha_inscripcion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_confirmacion', sa.DateTime(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['campania_id'], ['campanias.id'], ),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['rol_participante_id'], ['roles_participante.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_participantes_campania_campania_id'), 'participantes_campania', ['campania_id'], unique=False)
    op.create_index(op.f('ix_participantes_campania_confirmado'), 'participantes_campania', ['confirmado'], unique=False)
    op.create_index(op.f('ix_participantes_campania_eliminado'), 'participantes_campania', ['eliminado'], unique=False)
    op.create_index(op.f('ix_participantes_campania_miembro_id'), 'participantes_campania', ['miembro_id'], unique=False)
    op.create_index(op.f('ix_participantes_campania_rol_participante_id'), 'participantes_campania', ['rol_participante_id'], unique=False)
    op.create_table('reuniones_grupo',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('grupo_id', sa.Uuid(), nullable=False),
    sa.Column('titulo', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('fecha', sa.Date(), nullable=False),
    sa.Column('hora_inicio', sa.String(length=10), nullable=True),
    sa.Column('hora_fin', sa.String(length=10), nullable=True),
    sa.Column('lugar', sa.String(length=200), nullable=True),
    sa.Column('url_online', sa.String(length=500), nullable=True),
    sa.Column('orden_del_dia', sa.Text(), nullable=True),
    sa.Column('acta', sa.Text(), nullable=True),
    sa.Column('realizada', sa.Boolean(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['grupo_id'], ['grupos_trabajo.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_reuniones_grupo_eliminado'), 'reuniones_grupo', ['eliminado'], unique=False)
    op.create_index(op.f('ix_reuniones_grupo_fecha'), 'reuniones_grupo', ['fecha'], unique=False)
    op.create_index(op.f('ix_reuniones_grupo_grupo_id'), 'reuniones_grupo', ['grupo_id'], unique=False)
    op.create_table('tareas_grupo',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('grupo_id', sa.Uuid(), nullable=False),
    sa.Column('titulo', sa.String(length=200), nullable=False),
    sa.Column('descripcion', sa.Text(), nullable=True),
    sa.Column('asignado_a_id', sa.Uuid(), nullable=True),
    sa.Column('estado_id', sa.Uuid(), nullable=False),
    sa.Column('prioridad', sa.Integer(), nullable=False),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_limite', sa.Date(), nullable=True),
    sa.Column('fecha_completada', sa.DateTime(), nullable=True),
    sa.Column('horas_estimadas', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('horas_reales', sa.Numeric(precision=6, scale=2), nullable=True),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['estado_id'], ['estados_tarea.id'], ),
    sa.ForeignKeyConstraint(['grupo_id'], ['grupos_trabajo.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tareas_grupo_asignado_a_id'), 'tareas_grupo', ['asignado_a_id'], unique=False)
    op.create_index(op.f('ix_tareas_grupo_eliminado'), 'tareas_grupo', ['eliminado'], unique=False)
    op.create_index(op.f('ix_tareas_grupo_estado_id'), 'tareas_grupo', ['estado_id'], unique=False)
    op.create_index(op.f('ix_tareas_grupo_grupo_id'), 'tareas_grupo', ['grupo_id'], unique=False)
    op.create_table('asistentes_reunion',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('reunion_id', sa.Uuid(), nullable=False),
    sa.Column('miembro_id', sa.Uuid(), nullable=False),
    sa.Column('confirmado', sa.Boolean(), nullable=False),
    sa.Column('asistio', sa.Boolean(), nullable=True),
    sa.Column('observaciones', sa.Text(), nullable=True),
    sa.Column('fecha_creacion', sa.DateTime(), server_default=sa.text('now()'), nullable=False),
    sa.Column('fecha_modificacion', sa.DateTime(), nullable=True),
    sa.Column('fecha_eliminacion', sa.DateTime(), nullable=True),
    sa.Column('eliminado', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('creado_por_id', sa.Uuid(), nullable=True),
    sa.Column('modificado_por_id', sa.Uuid(), nullable=True),
    sa.ForeignKeyConstraint(['creado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['modificado_por_id'], ['usuarios.id'], ),
    sa.ForeignKeyConstraint(['reunion_id'], ['reuniones_grupo.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_asistentes_reunion_eliminado'), 'asistentes_reunion', ['eliminado'], unique=False)
    op.create_index(op.f('ix_asistentes_reunion_miembro_id'), 'asistentes_reunion', ['miembro_id'], unique=False)
    op.create_index(op.f('ix_asistentes_reunion_reunion_id'), 'asistentes_reunion', ['reunion_id'], unique=False)
    op.add_column('cuotas_anuales', sa.Column('estado_id', sa.Uuid(), nullable=False))
    op.drop_index(op.f('ix_cuotas_anuales_estado_codigo'), table_name='cuotas_anuales')
    op.create_index(op.f('ix_cuotas_anuales_estado_id'), 'cuotas_anuales', ['estado_id'], unique=False)
    op.drop_constraint(op.f('cuotas_anuales_estado_codigo_fkey'), 'cuotas_anuales', type_='foreignkey')
    op.create_foreign_key(None, 'cuotas_anuales', 'estados_cuota', ['estado_id'], ['id'])
    op.drop_column('cuotas_anuales', 'estado_codigo')
    op.add_column('donaciones', sa.Column('estado_id', sa.Uuid(), nullable=False))
    op.drop_index(op.f('ix_donaciones_estado_codigo'), table_name='donaciones')
    op.create_index(op.f('ix_donaciones_estado_id'), 'donaciones', ['estado_id'], unique=False)
    op.drop_constraint(op.f('donaciones_estado_codigo_fkey'), 'donaciones', type_='foreignkey')
    op.create_foreign_key(None, 'donaciones', 'estados_donacion', ['estado_id'], ['id'])
    op.drop_column('donaciones', 'estado_codigo')
    op.add_column('ordenes_cobro', sa.Column('estado_id', sa.Uuid(), nullable=False))
    op.drop_index(op.f('ix_ordenes_cobro_estado_codigo'), table_name='ordenes_cobro')
    op.create_index(op.f('ix_ordenes_cobro_estado_id'), 'ordenes_cobro', ['estado_id'], unique=False)
    op.drop_constraint(op.f('ordenes_cobro_estado_codigo_fkey'), 'ordenes_cobro', type_='foreignkey')
    op.create_foreign_key(None, 'ordenes_cobro', 'estados_orden_cobro', ['estado_id'], ['id'])
    op.drop_column('ordenes_cobro', 'estado_codigo')
    op.add_column('planificaciones_anuales', sa.Column('estado_id', sa.Uuid(), nullable=False))
    op.drop_index(op.f('ix_planificaciones_anuales_estado_codigo'), table_name='planificaciones_anuales')
    op.create_index(op.f('ix_planificaciones_anuales_estado_id'), 'planificaciones_anuales', ['estado_id'], unique=False)
    op.drop_constraint(op.f('planificaciones_anuales_estado_codigo_fkey'), 'planificaciones_anuales', type_='foreignkey')
    op.create_foreign_key(None, 'planificaciones_anuales', 'estados_planificacion', ['estado_id'], ['id'])
    op.drop_column('planificaciones_anuales', 'estado_codigo')
    op.add_column('remesas', sa.Column('estado_id', sa.Uuid(), nullable=False))
    op.drop_index(op.f('ix_remesas_estado_codigo'), table_name='remesas')
    op.create_index(op.f('ix_remesas_estado_id'), 'remesas', ['estado_id'], unique=False)
    op.drop_constraint(op.f('remesas_estado_codigo_fkey'), 'remesas', type_='foreignkey')
    op.create_foreign_key(None, 'remesas', 'estados_remesa', ['estado_id'], ['id'])
    op.drop_column('remesas', 'estado_codigo')
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('remesas', sa.Column('estado_codigo', sa.VARCHAR(length=50), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'remesas', type_='foreignkey')
    op.create_foreign_key(op.f('remesas_estado_codigo_fkey'), 'remesas', 'estados_remesa', ['estado_codigo'], ['codigo'])
    op.drop_index(op.f('ix_remesas_estado_id'), table_name='remesas')
    op.create_index(op.f('ix_remesas_estado_codigo'), 'remesas', ['estado_codigo'], unique=False)
    op.drop_column('remesas', 'estado_id')
    op.add_column('planificaciones_anuales', sa.Column('estado_codigo', sa.VARCHAR(length=20), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'planificaciones_anuales', type_='foreignkey')
    op.create_foreign_key(op.f('planificaciones_anuales_estado_codigo_fkey'), 'planificaciones_anuales', 'estados_planificacion', ['estado_codigo'], ['codigo'])
    op.drop_index(op.f('ix_planificaciones_anuales_estado_id'), table_name='planificaciones_anuales')
    op.create_index(op.f('ix_planificaciones_anuales_estado_codigo'), 'planificaciones_anuales', ['estado_codigo'], unique=False)
    op.drop_column('planificaciones_anuales', 'estado_id')
    op.add_column('ordenes_cobro', sa.Column('estado_codigo', sa.VARCHAR(length=50), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'ordenes_cobro', type_='foreignkey')
    op.create_foreign_key(op.f('ordenes_cobro_estado_codigo_fkey'), 'ordenes_cobro', 'estados_orden_cobro', ['estado_codigo'], ['codigo'])
    op.drop_index(op.f('ix_ordenes_cobro_estado_id'), table_name='ordenes_cobro')
    op.create_index(op.f('ix_ordenes_cobro_estado_codigo'), 'ordenes_cobro', ['estado_codigo'], unique=False)
    op.drop_column('ordenes_cobro', 'estado_id')
    op.add_column('donaciones', sa.Column('estado_codigo', sa.VARCHAR(length=50), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'donaciones', type_='foreignkey')
    op.create_foreign_key(op.f('donaciones_estado_codigo_fkey'), 'donaciones', 'estados_donacion', ['estado_codigo'], ['codigo'])
    op.drop_index(op.f('ix_donaciones_estado_id'), table_name='donaciones')
    op.create_index(op.f('ix_donaciones_estado_codigo'), 'donaciones', ['estado_codigo'], unique=False)
    op.drop_column('donaciones', 'estado_id')
    op.add_column('cuotas_anuales', sa.Column('estado_codigo', sa.VARCHAR(length=50), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'cuotas_anuales', type_='foreignkey')
    op.create_foreign_key(op.f('cuotas_anuales_estado_codigo_fkey'), 'cuotas_anuales', 'estados_cuota', ['estado_codigo'], ['codigo'])
    op.drop_index(op.f('ix_cuotas_anuales_estado_id'), table_name='cuotas_anuales')
    op.create_index(op.f('ix_cuotas_anuales_estado_codigo'), 'cuotas_anuales', ['estado_codigo'], unique=False)
    op.drop_column('cuotas_anuales', 'estado_id')
    op.drop_index(op.f('ix_asistentes_reunion_reunion_id'), table_name='asistentes_reunion')
    op.drop_index(op.f('ix_asistentes_reunion_miembro_id'), table_name='asistentes_reunion')
    op.drop_index(op.f('ix_asistentes_reunion_eliminado'), table_name='asistentes_reunion')
    op.drop_table('asistentes_reunion')
    op.drop_index(op.f('ix_tareas_grupo_grupo_id'), table_name='tareas_grupo')
    op.drop_index(op.f('ix_tareas_grupo_estado_id'), table_name='tareas_grupo')
    op.drop_index(op.f('ix_tareas_grupo_eliminado'), table_name='tareas_grupo')
    op.drop_index(op.f('ix_tareas_grupo_asignado_a_id'), table_name='tareas_grupo')
    op.drop_table('tareas_grupo')
    op.drop_index(op.f('ix_reuniones_grupo_grupo_id'), table_name='reuniones_grupo')
    op.drop_index(op.f('ix_reuniones_grupo_fecha'), table_name='reuniones_grupo')
    op.drop_index(op.f('ix_reuniones_grupo_eliminado'), table_name='reuniones_grupo')
    op.drop_table('reuniones_grupo')
    op.drop_index(op.f('ix_participantes_campania_rol_participante_id'), table_name='participantes_campania')
    op.drop_index(op.f('ix_participantes_campania_miembro_id'), table_name='participantes_campania')
    op.drop_index(op.f('ix_participantes_campania_eliminado'), table_name='participantes_campania')
    op.drop_index(op.f('ix_participantes_campania_confirmado'), table_name='participantes_campania')
    op.drop_index(op.f('ix_participantes_campania_campania_id'), table_name='participantes_campania')
    op.drop_table('participantes_campania')
    op.drop_index(op.f('ix_miembros_grupo_rol_grupo_id'), table_name='miembros_grupo')
    op.drop_index(op.f('ix_miembros_grupo_miembro_id'), table_name='miembros_grupo')
    op.drop_index(op.f('ix_miembros_grupo_grupo_id'), table_name='miembros_grupo')
    op.drop_index(op.f('ix_miembros_grupo_eliminado'), table_name='miembros_grupo')
    op.drop_index(op.f('ix_miembros_grupo_activo'), table_name='miembros_grupo')
    op.drop_table('miembros_grupo')
    op.drop_index(op.f('ix_acciones_campania_fecha'), table_name='acciones_campania')
    op.drop_index(op.f('ix_acciones_campania_eliminado'), table_name='acciones_campania')
    op.drop_index(op.f('ix_acciones_campania_completada'), table_name='acciones_campania')
    op.drop_index(op.f('ix_acciones_campania_campania_id'), table_name='acciones_campania')
    op.drop_table('acciones_campania')
    op.drop_index(op.f('ix_miembros_tipo_miembro_id'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_provincia_id'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_pais_domicilio_id'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_numero_documento'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_nombre'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_fecha_baja'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_fecha_alta'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_es_voluntario'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_email'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_eliminado'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_apellido1'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_agrupacion_id'), table_name='miembros')
    op.drop_index(op.f('ix_miembros_activo'), table_name='miembros')
    op.drop_table('miembros')
    op.drop_index(op.f('ix_grupos_trabajo_tipo_grupo_id'), table_name='grupos_trabajo')
    op.drop_index(op.f('ix_grupos_trabajo_nombre'), table_name='grupos_trabajo')
    op.drop_index(op.f('ix_grupos_trabajo_eliminado'), table_name='grupos_trabajo')
    op.drop_index(op.f('ix_grupos_trabajo_codigo'), table_name='grupos_trabajo')
    op.drop_index(op.f('ix_grupos_trabajo_campania_id'), table_name='grupos_trabajo')
    op.drop_index(op.f('ix_grupos_trabajo_agrupacion_id'), table_name='grupos_trabajo')
    op.drop_index(op.f('ix_grupos_trabajo_activo'), table_name='grupos_trabajo')
    op.drop_table('grupos_trabajo')
    op.drop_index(op.f('ix_convenios_fecha_firma'), table_name='convenios')
    op.drop_index(op.f('ix_convenios_fecha_fin'), table_name='convenios')
    op.drop_index(op.f('ix_convenios_estado_id'), table_name='convenios')
    op.drop_index(op.f('ix_convenios_eliminado'), table_name='convenios')
    op.drop_index(op.f('ix_convenios_codigo'), table_name='convenios')
    op.drop_index(op.f('ix_convenios_asociacion_id'), table_name='convenios')
    op.drop_index(op.f('ix_convenios_activo'), table_name='convenios')
    op.drop_table('convenios')
    op.drop_index(op.f('ix_campanias_tipo_campania_id'), table_name='campanias')
    op.drop_index(op.f('ix_campanias_responsable_id'), table_name='campanias')
    op.drop_index(op.f('ix_campanias_nombre'), table_name='campanias')
    op.drop_index(op.f('ix_campanias_estado_id'), table_name='campanias')
    op.drop_index(op.f('ix_campanias_eliminado'), table_name='campanias')
    op.drop_index(op.f('ix_campanias_codigo'), table_name='campanias')
    op.drop_index(op.f('ix_campanias_agrupacion_id'), table_name='campanias')
    op.drop_table('campanias')
    op.drop_index(op.f('ix_mediciones_kpi_medido_por_id'), table_name='mediciones_kpi')
    op.drop_index(op.f('ix_mediciones_kpi_kpi_actividad_id'), table_name='mediciones_kpi')
    op.drop_index(op.f('ix_mediciones_kpi_eliminado'), table_name='mediciones_kpi')
    op.drop_table('mediciones_kpi')
    op.drop_index(op.f('ix_asociaciones_tipo_id'), table_name='asociaciones')
    op.drop_index(op.f('ix_asociaciones_siglas'), table_name='asociaciones')
    op.drop_index(op.f('ix_asociaciones_provincia_id'), table_name='asociaciones')
    op.drop_index(op.f('ix_asociaciones_nombre'), table_name='asociaciones')
    op.drop_index(op.f('ix_asociaciones_eliminado'), table_name='asociaciones')
    op.drop_index(op.f('ix_asociaciones_cif_nif'), table_name='asociaciones')
    op.drop_index(op.f('ix_asociaciones_activo'), table_name='asociaciones')
    op.drop_table('asociaciones')
    op.drop_index(op.f('ix_agrupaciones_territoriales_tipo'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_provincia_id'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_pais_id'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_nombre'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_municipio_id'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_eliminado'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_codigo'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_agrupacion_padre_id'), table_name='agrupaciones_territoriales')
    op.drop_index(op.f('ix_agrupaciones_territoriales_activo'), table_name='agrupaciones_territoriales')
    op.drop_table('agrupaciones_territoriales')
    op.drop_index(op.f('ix_tareas_actividad_responsable_id'), table_name='tareas_actividad')
    op.drop_index(op.f('ix_tareas_actividad_grupo_trabajo_id'), table_name='tareas_actividad')
    op.drop_index(op.f('ix_tareas_actividad_estado_id'), table_name='tareas_actividad')
    op.drop_index(op.f('ix_tareas_actividad_eliminado'), table_name='tareas_actividad')
    op.drop_index(op.f('ix_tareas_actividad_actividad_id'), table_name='tareas_actividad')
    op.drop_table('tareas_actividad')
    op.drop_index(op.f('ix_recursos_actividad_tipo_recurso_id'), table_name='recursos_actividad')
    op.drop_index(op.f('ix_recursos_actividad_eliminado'), table_name='recursos_actividad')
    op.drop_index(op.f('ix_recursos_actividad_actividad_id'), table_name='recursos_actividad')
    op.drop_table('recursos_actividad')
    op.drop_index(op.f('ix_participantes_actividad_miembro_id'), table_name='participantes_actividad')
    op.drop_index(op.f('ix_participantes_actividad_eliminado'), table_name='participantes_actividad')
    op.drop_index(op.f('ix_participantes_actividad_actividad_id'), table_name='participantes_actividad')
    op.drop_table('participantes_actividad')
    op.drop_index(op.f('ix_kpis_actividad_kpi_id'), table_name='kpis_actividad')
    op.drop_index(op.f('ix_kpis_actividad_eliminado'), table_name='kpis_actividad')
    op.drop_index(op.f('ix_kpis_actividad_actividad_id'), table_name='kpis_actividad')
    op.drop_table('kpis_actividad')
    op.drop_index(op.f('ix_grupos_actividad_grupo_trabajo_id'), table_name='grupos_actividad')
    op.drop_index(op.f('ix_grupos_actividad_eliminado'), table_name='grupos_actividad')
    op.drop_index(op.f('ix_grupos_actividad_actividad_id'), table_name='grupos_actividad')
    op.drop_table('grupos_actividad')
    op.drop_index(op.f('ix_tareas_propuesta_responsable_id'), table_name='tareas_propuesta')
    op.drop_index(op.f('ix_tareas_propuesta_propuesta_id'), table_name='tareas_propuesta')
    op.drop_index(op.f('ix_tareas_propuesta_grupo_trabajo_id'), table_name='tareas_propuesta')
    op.drop_index(op.f('ix_tareas_propuesta_eliminado'), table_name='tareas_propuesta')
    op.drop_table('tareas_propuesta')
    op.drop_index(op.f('ix_recursos_propuesta_tipo_recurso_id'), table_name='recursos_propuesta')
    op.drop_index(op.f('ix_recursos_propuesta_propuesta_id'), table_name='recursos_propuesta')
    op.drop_index(op.f('ix_recursos_propuesta_eliminado'), table_name='recursos_propuesta')
    op.drop_table('recursos_propuesta')
    op.drop_index(op.f('ix_miembros_competencia_nivel_id'), table_name='miembros_competencia')
    op.drop_index(op.f('ix_miembros_competencia_miembro_id'), table_name='miembros_competencia')
    op.drop_index(op.f('ix_miembros_competencia_eliminado'), table_name='miembros_competencia')
    op.drop_index(op.f('ix_miembros_competencia_competencia_id'), table_name='miembros_competencia')
    op.drop_table('miembros_competencia')
    op.drop_index(op.f('ix_grupos_propuesta_propuesta_id'), table_name='grupos_propuesta')
    op.drop_index(op.f('ix_grupos_propuesta_grupo_trabajo_id'), table_name='grupos_propuesta')
    op.drop_index(op.f('ix_grupos_propuesta_eliminado'), table_name='grupos_propuesta')
    op.drop_table('grupos_propuesta')
    op.drop_index(op.f('ix_actividades_tipo_actividad_id'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_propuesta_id'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_partida_id'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_nombre'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_grupo_trabajo_id'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_fecha_inicio'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_fecha_fin'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_estado_id'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_eliminado'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_coordinador_id'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_completada'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_codigo'), table_name='actividades')
    op.drop_index(op.f('ix_actividades_campania_id'), table_name='actividades')
    op.drop_table('actividades')
    op.drop_index(op.f('ix_propuestas_actividad_proponente_id'), table_name='propuestas_actividad')
    op.drop_index(op.f('ix_propuestas_actividad_partida_id'), table_name='propuestas_actividad')
    op.drop_index(op.f('ix_propuestas_actividad_estado_id'), table_name='propuestas_actividad')
    op.drop_index(op.f('ix_propuestas_actividad_eliminado'), table_name='propuestas_actividad')
    op.drop_index(op.f('ix_propuestas_actividad_codigo'), table_name='propuestas_actividad')
    op.drop_index(op.f('ix_propuestas_actividad_campania_id'), table_name='propuestas_actividad')
    op.drop_table('propuestas_actividad')
    op.drop_index(op.f('ix_kpis_tipo_kpi_id'), table_name='kpis')
    op.drop_index(op.f('ix_kpis_eliminado'), table_name='kpis')
    op.drop_index(op.f('ix_kpis_codigo'), table_name='kpis')
    op.drop_index(op.f('ix_kpis_activo'), table_name='kpis')
    op.drop_table('kpis')
    op.drop_index(op.f('ix_formaciones_miembro_tipo_formacion_id'), table_name='formaciones_miembro')
    op.drop_index(op.f('ix_formaciones_miembro_miembro_id'), table_name='formaciones_miembro')
    op.drop_index(op.f('ix_formaciones_miembro_eliminado'), table_name='formaciones_miembro')
    op.drop_table('formaciones_miembro')
    op.drop_index(op.f('ix_documentos_miembro_tipo_documento_id'), table_name='documentos_miembro')
    op.drop_index(op.f('ix_documentos_miembro_miembro_id'), table_name='documentos_miembro')
    op.drop_index(op.f('ix_documentos_miembro_eliminado'), table_name='documentos_miembro')
    op.drop_index(op.f('ix_documentos_miembro_activo'), table_name='documentos_miembro')
    op.drop_table('documentos_miembro')
    op.drop_index(op.f('ix_competencias_eliminado'), table_name='competencias')
    op.drop_index(op.f('ix_competencias_codigo'), table_name='competencias')
    op.drop_index(op.f('ix_competencias_categoria_id'), table_name='competencias')
    op.drop_index(op.f('ix_competencias_activo'), table_name='competencias')
    op.drop_table('competencias')
    op.drop_index(op.f('ix_tipos_recurso_eliminado'), table_name='tipos_recurso')
    op.drop_index(op.f('ix_tipos_recurso_codigo'), table_name='tipos_recurso')
    op.drop_index(op.f('ix_tipos_recurso_activo'), table_name='tipos_recurso')
    op.drop_table('tipos_recurso')
    op.drop_index(op.f('ix_tipos_miembro_eliminado'), table_name='tipos_miembro')
    op.drop_index(op.f('ix_tipos_miembro_codigo'), table_name='tipos_miembro')
    op.drop_index(op.f('ix_tipos_miembro_activo'), table_name='tipos_miembro')
    op.drop_table('tipos_miembro')
    op.drop_index(op.f('ix_tipos_kpi_eliminado'), table_name='tipos_kpi')
    op.drop_index(op.f('ix_tipos_kpi_codigo'), table_name='tipos_kpi')
    op.drop_index(op.f('ix_tipos_kpi_activo'), table_name='tipos_kpi')
    op.drop_table('tipos_kpi')
    op.drop_index(op.f('ix_tipos_grupo_eliminado'), table_name='tipos_grupo')
    op.drop_index(op.f('ix_tipos_grupo_codigo'), table_name='tipos_grupo')
    op.drop_index(op.f('ix_tipos_grupo_activo'), table_name='tipos_grupo')
    op.drop_table('tipos_grupo')
    op.drop_index(op.f('ix_tipos_formacion_eliminado'), table_name='tipos_formacion')
    op.drop_index(op.f('ix_tipos_formacion_codigo'), table_name='tipos_formacion')
    op.drop_index(op.f('ix_tipos_formacion_activo'), table_name='tipos_formacion')
    op.drop_table('tipos_formacion')
    op.drop_index(op.f('ix_tipos_documento_voluntario_eliminado'), table_name='tipos_documento_voluntario')
    op.drop_index(op.f('ix_tipos_documento_voluntario_codigo'), table_name='tipos_documento_voluntario')
    op.drop_index(op.f('ix_tipos_documento_voluntario_activo'), table_name='tipos_documento_voluntario')
    op.drop_table('tipos_documento_voluntario')
    op.drop_index(op.f('ix_tipos_campania_eliminado'), table_name='tipos_campania')
    op.drop_index(op.f('ix_tipos_campania_codigo'), table_name='tipos_campania')
    op.drop_index(op.f('ix_tipos_campania_activo'), table_name='tipos_campania')
    op.drop_table('tipos_campania')
    op.drop_index(op.f('ix_tipos_asociacion_eliminado'), table_name='tipos_asociacion')
    op.drop_index(op.f('ix_tipos_asociacion_codigo'), table_name='tipos_asociacion')
    op.drop_index(op.f('ix_tipos_asociacion_activo'), table_name='tipos_asociacion')
    op.drop_table('tipos_asociacion')
    op.drop_index(op.f('ix_tipos_actividad_eliminado'), table_name='tipos_actividad')
    op.drop_index(op.f('ix_tipos_actividad_codigo'), table_name='tipos_actividad')
    op.drop_index(op.f('ix_tipos_actividad_activo'), table_name='tipos_actividad')
    op.drop_table('tipos_actividad')
    op.drop_index(op.f('ix_roles_participante_eliminado'), table_name='roles_participante')
    op.drop_index(op.f('ix_roles_participante_codigo'), table_name='roles_participante')
    op.drop_index(op.f('ix_roles_participante_activo'), table_name='roles_participante')
    op.drop_table('roles_participante')
    op.drop_index(op.f('ix_roles_grupo_eliminado'), table_name='roles_grupo')
    op.drop_index(op.f('ix_roles_grupo_codigo'), table_name='roles_grupo')
    op.drop_index(op.f('ix_roles_grupo_activo'), table_name='roles_grupo')
    op.drop_table('roles_grupo')
    op.drop_index(op.f('ix_niveles_competencia_eliminado'), table_name='niveles_competencia')
    op.drop_index(op.f('ix_niveles_competencia_codigo'), table_name='niveles_competencia')
    op.drop_index(op.f('ix_niveles_competencia_activo'), table_name='niveles_competencia')
    op.drop_table('niveles_competencia')
    op.drop_index(op.f('ix_estados_propuesta_eliminado'), table_name='estados_propuesta')
    op.drop_index(op.f('ix_estados_propuesta_codigo'), table_name='estados_propuesta')
    op.drop_index(op.f('ix_estados_propuesta_activo'), table_name='estados_propuesta')
    op.drop_table('estados_propuesta')
    op.drop_index(op.f('ix_estados_convenio_eliminado'), table_name='estados_convenio')
    op.drop_index(op.f('ix_estados_convenio_codigo'), table_name='estados_convenio')
    op.drop_index(op.f('ix_estados_convenio_activo'), table_name='estados_convenio')
    op.drop_table('estados_convenio')
    op.drop_index(op.f('ix_estados_actividad_eliminado'), table_name='estados_actividad')
    op.drop_index(op.f('ix_estados_actividad_codigo'), table_name='estados_actividad')
    op.drop_index(op.f('ix_estados_actividad_activo'), table_name='estados_actividad')
    op.drop_table('estados_actividad')
    op.drop_index(op.f('ix_categorias_competencia_eliminado'), table_name='categorias_competencia')
    op.drop_index(op.f('ix_categorias_competencia_codigo'), table_name='categorias_competencia')
    op.drop_index(op.f('ix_categorias_competencia_activo'), table_name='categorias_competencia')
    op.drop_table('categorias_competencia')
    # ### end Alembic commands ###
